; --------------------------------------------------------------------------------
; --------------------------------------------------------------------------------
; lib_delay
; All delays generated by delay loop calculator at http://www.bretmulvey.com/avrdelay.html
;
; registers used (and preserverd):
;   - r23
;   - r24
;   - r25
; --------------------------------------------------------------------------------
; --------------------------------------------------------------------------------

; --------------------------------------------------------------------------------
; Delay 15 999 988 cycles
; 999ms 999us 250 ns at 16 MHz
; --------------------------------------------------------------------------------
delay_1s:
                            push            r23
                            push            r24
                            push            r25
                            ldi             r23, 82
                            ldi             r24, 43
                            ldi             r25, 253
    delay_1s_cont:          
                            dec             r25
                            brne            delay_1s_cont
                            dec             r24
                            brne            delay_1s_cont
                            dec             r23
                            brne            delay_1s_cont
                            nop
                            pop             r25
                            pop             r24
                            pop             r23
                            ret
; --------------------------------------------------------------------------------
; Delay 1 599 988 cycles
; 99ms 999us 250 ns at 16 MHz
; --------------------------------------------------------------------------------
delay_100ms:
                            push            r23
                            push            r24
                            push            r25
                            ldi             r23, 9
                            ldi             r24, 30
                            ldi             r25, 225
    delay_100ms_cont:
                            dec             r25
                            brne            delay_100ms_cont
                            dec             r24
                            brne            delay_100ms_cont
                            dec             r23
                            brne            delay_100ms_cont
                            nop
                            pop             r25
                            pop             r24
                            pop             r23
                            ret

; --------------------------------------------------------------------------------
; Delay 15 992 cycles
; 999us 500 ns at 16 MHz
; --------------------------------------------------------------------------------
delay_1ms:
                            push            r23
                            push            r24
                            ldi             r23, 21
                            ldi             r24, 196
    delay_1ms_cont:
                            dec             r24
                            brne            delay_1ms_cont
                            dec             r23
                            brne            delay_1ms_cont
                            pop             r24
                            pop             r23
                            ret
; --------------------------------------------------------------------------------
.exit
; --------------------------------------------------------------------------------